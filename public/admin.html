<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TikTok Admin</title>
</head>
<body style="background: #ffffff; color: #000000; padding: 50px; font-family: sans-serif;">
    <div style="border: 2px solid black; padding: 20px; max-width: 400px; margin: auto;">
        <h1 style="font-size: 24px;">TikTok Lead Monitor</h1>
        <p>If you can see this, the page is working.</p>
        
        <label>TikTok URL:</label><br>
        <input type="text" id="url" style="width:100%; padding:10px; margin: 10px 0;"><br>
        
        <label>Keywords (comma separated):</label><br>
        <textarea id="keys" style="width:100%; padding:10px; margin: 10px 0;"></textarea><br>
        
        <button onclick="sendData()" style="width:100%; padding:15px; background:black; color:white; font-weight:bold; cursor:pointer;">
            SAVE CAMPAIGN
        </button>
        <p id="msg" style="margin-top:20px; font-weight:bold;"></p>
    </div>

    <script>
        async function sendData() {
            const msg = document.getElementById('msg');
            msg.innerText = "Sending...";
            try {
                const res = await fetch('/api/add-video', {
                    method: 'POST',
                    headers: { 'Content-Type': 'text/plain' },
                    body: JSON.stringify({
                        tiktokUrl: document.getElementById('url').value,
                        keywords: document.getElementById('keys').value.split(',')
                    })
                });
                const data = await res.json();
                msg.innerText = data.success ? "✅ SAVED TO DATABASE" : "❌ ERROR: " + data.error;
            } catch (e) {
                msg.innerText = "❌ FAILED: " + e.message;
            }
        }
    </script>
</body>
</html>
